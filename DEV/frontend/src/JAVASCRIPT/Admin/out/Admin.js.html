<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Admin.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Admin.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, {Component} from 'react';
import '../../CSS/Admin/admin.css';
import DataFetchPost from '../../DataFetchFunctions/DataFetchPost';
import DataFetchGet from '../../DataFetchFunctions/DataFetchGet';
import NavBar from '../NavBar/NavBar';

var fileDownload = require('js-file-download');

/**
 * Function to download a file.
 */

function FileB() {
    
   /**
     * Handles the PDF download.
     */

    const handlePDFDownload = () => {
        DataFetchGet('api/REQ7/send_info/', { 
          responseType: 'blob',
        }).then(res => {
            let data = res.data
            if (data['status'] === 405){           
                console.log(data['log'])
                return
            }else if (data['status'] === 500){
                window.location.href="/login";
                window.alert(data['log']);
                return;
            }

            fileDownload(res.data['data'], 'filename.xml');
            console.log(res);
        })
        return
}
return (
    &lt;div>
      &lt;div className="ports">
       &lt;button onClick={() => handlePDFDownload()}>EXPORT&lt;/button>
       &lt;/div>
    &lt;/div>
    )
}

/**
 * Component for uploading a file.
 */

class FileA extends Component {

    constructor(props) {
      super(props);
  
      this.state = {
        file: null
      };
    }
  
   /**
     * Handles the file input change.
     * @param {Event} event - The event object when a file is selected.
     */

    handleInputChange = async (event) => {
      event.preventDefault();
      await this.setState({
        // [event.target.name]: event.target.files[0] (CODIGO DEIXADO EM COMENTARIO???)
        file: event.target.files[0] // Atualiza o estado com o arquivo selecionado
        // image: event.target.files[0] (CODIGO EM COMENTARIO?????)
      });
    };
  
    //Função para enviar um arquivo
    async sendFile(state){
      let data = new FormData();
  
      if (state.file == null){
          window.alert("No file chosen") 
          return 
      }
      data.append("file", state.file); 
  
      let a = await DataFetchPost('api/REQ7/load_info/', data)
      
      if (a.data['status'] === 505){
            window.alert(a.data['log'])
            return
      }else if (a.data['status'] === 500){
            window.location.href="/login"
            window.alert(a.data['log']) 
            return
      }
      window.alert('Quizzes read successfully!')
      console.log(a);//log da resposta do console (Por que "a"?)
    }
  
    render() {
      return (
          &lt;div className="ports">
            &lt;input type="file" name="image" onChange={this.handleInputChange} />
            &lt;button onClick={() => this.sendFile(this.state)}>IMPORT&lt;/button>
          &lt;/div>
      );
    }
}

/**
 * Component for the admin page.
 */

const Admin = () => {
    return(
        &lt;>
            &lt;NavBar/>
            &lt;FileA/>
            &lt;FileB/>    
        &lt;/>
        );
}

export default Admin;

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="FileA.html">FileA</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Admin">Admin</a></li><li><a href="global.html#FileB">FileB</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Mon Oct 23 2023 22:04:10 GMT+0100 (Hora de verão da Europa Ocidental)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
