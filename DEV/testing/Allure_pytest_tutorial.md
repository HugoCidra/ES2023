# Allure with pytest

## Table of Contents

- [Allure with pytest](#Allure-with-pytest)
  - [Table of Contents](#table-of-contents)
  - [Prerequisites](#prerequisites)
    - [Python Installation](#python-installation)
    - [Pytest Installation](#pytest-installation)
    - [Allure-pytest](#Allure-pytest)
    - [Allure-framework](#allure-framework)
    - [Java-development-kit](#java-development-kit)
  - [Basic Allure with pytest Operations](#Basic-Allure-with-pytest-Operations)
  - [Pytest Code Structure and Conventions](#Pytest-Code-Structure-and-Conventions)
  - [Report Analysis](#Report-Analysis)
  - [Annotations and Metadata](#Annotations-and-Metadata)
  - [Customizing Reports](#Customizing-Reports)
  - [Troubleshooting](#Troubleshooting)
    

---

## Pre-requisites

### Python Installation

Allure-pytest for Python requires Python to be installed on your system. You can download Python from the [official website](https://www.python.org/downloads/).

To verify your Python installation and version, open a terminal and run:

```bash
python --version
```

### Pytest Installation

Install pytest using pip, the Python package manager:

```bash
pip install pytest
```

### Allure-pytest

To use Allure with pytest, you need to install the Allure-pytest plugin. You can do this using 

```bash
pip pip install allure-pytest
```

### Allure-framework

To install the Allure framework, you need to download the tool from this link: [Download-allure](https://github.com/allure-framework/allure2/releases/download/2.24.1/allure-2.24.1.zip).

After downloading, extract the files, navigate to the 'Bin' folder, and copy the PATH, then add it to the environment variables.

To add environment variables on Windows, navigate to system settings, find the advanced system settings, and click on "Environment Variables." Then, in the "System Variables" section, you can add or edit variables, such as the path to Allure, by clicking "New" or "Edit." Be sure to save the changes after configuring the variables for them to take effect.

### Java-Development-Kit

Java Development Kit (JDK) and Java Runtime Environment (JRE): Allure requires JDK and JRE to function correctly. Ensure that you have it installed on your system. You can download it [here](https://www.oracle.com/java/technologies/javase/jdk18-archive-downloads.html).

---

## Basic-Allure-with-pytest-Operations

Here are the fundamental steps for using Allure with pytest:

1. **Write Your Tests**: Create tests using pytest. Make sure to follow pytest's recommended practices for organizing and structuring your tests.

2. **Run Tests with Allure**: To execute your tests with Allure, use the following command:

```bash
pytest --alluredir=./allure-results
```

This will run your tests and generate reports in the 'allure-results' directory.

3. **View the Reports**: To view the reports generated by Allure, use the following command:

```bash
allure serve ./allure-results
```
This will open a local server and display the reports in your default web browser.

## Pytest-Code-Structure-and-Conventions

When creating test cases with the pytest framework, it is essential to adhere to specific code requirements and conventions to ensure organized, maintainable, and standardized testing practices. Here are the key guidelines to follow:

1. **File Naming Conventions**:
  Test files should either start with the prefix "test_" or end with "_test.py". For instance, "test_login.py" or "login_test.py" are acceptable names for test files.

2. **Test Function Names**:
 Test functions should commence with "test_" to clearly indicate their purpose.
 Each test function must include one or more assertions to verify the intended behavior.

3. **Test Organization**:
 Tests can be structured within modules and packages that align with the architecture of the primary project's codebase. Organizing tests into packages is a common practice, where each package might focus on a specific aspect of functionality, such as a "test_login" package for login-related tests.

4. **Test Markers**:
 Use markers or decorators to attach metadata or labels to test functions, enhancing their clarity and context. For instance, you can apply the @pytest.mark.parametrize marker for parameterized tests.

5. **Naming Best Practices**:
While not obligatory, adopting clear and descriptive naming conventions is encouraged. Choose names that succinctly describe the test's purpose, such as "test_login_with_valid_credentials."


## Report-Analysis

Explore the reports generated by Allure to analyze test results. You can view statistics, logs, attachments, and other useful details.

## Annotations-and-Metadata

You can enhance the informativeness of your reports by adding annotations and metadata to your tests. Use decorators like @allure.feature, @allure.story, and @allure.link to associate additional information with your tests.

```python
@allure.feature("Login Features")
@allure.story("Successful Login")
@allure.link("https://www.example.com/login", name="Login Documentation")
def test_successful_login():
    # Your test code here
```
## Customizing Reports

You can customize the appearance and content of Allure reports according to your needs. Refer to the Allure documentation for detailed information on how to do this.

## Troubleshooting

If you encounter issues while using Allure with pytest, consult the official Allure and pytest documentation or seek assistance on online forums and communities.

## Tips-and-Best-Practices

Keep your tests well-organized and thoroughly documented.
Use annotations to provide context for your tests.
Regularly run your tests and review reports to ensure code quality."
  
